<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Historische Zeitreise</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Header -->
  <header class="header">
    <h1>Historische Zeitreise</h1>
    <p class="subtitle">Reise in die Vergangenheit mit KI</p>
  </header>

  <main>

    <!-- Eingabe -->
    <section id="input-section" class="section">
      <div class="form-container">
        <form id="time-travel-form">
          <div class="form-group">
            <label for="date-input">Datum</label>
            <input type="text" id="date-input" placeholder="z.B. 9. November 1989" required>
          </div>
          <div class="form-group">
            <label for="location-input">Ort</label>
            <input type="text" id="location-input" placeholder="z.B. Berlin" required>
          </div>
          <button type="submit" class="btn btn-primary" id="travel-btn">
            Zeitreise starten
          </button>
        </form>
      </div>
    </section>

    <!-- Ladebildschirm -->
    <section id="loading-section" class="section hidden">
      <div class="loading-wrapper">
        <div class="spinner"></div>
        <p id="loading-text">Recherchiere historische Fakten...</p>
      </div>
    </section>

    <!-- Fehler -->
    <section id="error-section" class="section hidden">
      <div class="error-box">
        <p class="error-text"></p>
        <button class="btn btn-secondary" id="retry-btn">Erneut versuchen</button>
      </div>
    </section>

    <!-- Ergebnisse -->
    <section id="results-section" class="section hidden">
      <p id="image-progress"></p>
      <div id="cards-container"></div>
      <div class="controls">
        <button class="btn btn-primary hidden" id="play-btn">Zeitreise abspielen</button>
        <button class="btn btn-secondary hidden" id="stop-btn" style="display:none"></button>
        <button class="btn btn-secondary hidden" id="restart-btn" style="display:none"></button>
        <button class="btn btn-secondary hidden" id="new-journey-btn">Neue Zeitreise</button>
      </div>
    </section>

  </main>

  <!-- Cinema Overlay -->
  <div id="cinema-overlay" class="hidden">
    <div class="cinema-slides" id="cinema-slides"></div>
    <div class="cinema-counter" id="cinema-counter"></div>
    <div class="cinema-controls">
      <button class="cinema-btn" id="cinema-close-btn" title="Beenden">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
      </button>
    </div>
    <div id="cinema-location-bar" class="cinema-location-bar"></div>
    <div class="cinema-progress">
      <div class="cinema-progress-bar" id="cinema-progress-bar"></div>
    </div>
  </div>

  <!-- API-Key Dialog -->
  <dialog id="api-key-dialog">
    <form method="dialog">
      <h3>API-Key eingeben</h3>
      <p>Du brauchst einen Google Gemini API-Key. Erstelle einen kostenlos auf <a href="https://aistudio.google.com/apikey" target="_blank" style="color: var(--accent)">aistudio.google.com</a>.</p>
      <input type="password" id="api-key-input" placeholder="AIza..." required>
      <button type="submit" class="btn btn-primary">Speichern</button>
    </form>
  </dialog>

  <script type="module" src="js/app.js"></script>

</body>
</html>
